{% extends 'base.html' %}
{% load static %}

{% block title %}메이플스토리 AI 어시스턴트{% endblock %}

{% block head_extra %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .hero {text-align:center; padding:60px 0 40px;}
        .hero h1 {font-size:56px; line-height:1.1; margin:0 0 12px; font-weight:700;}
        .hero p {font-size:20px; margin:0 0 28px; color:#333;}
        .hero .actions {display:flex; gap:18px; justify-content:center; flex-wrap:wrap;}
        .btn-primary, .btn-secondary {padding:14px 26px; border-radius:40px; font-size:16px; font-weight:500; border:0; display:inline-flex; align-items:center; gap:8px;}
        .btn-primary {background:var(--color-accent); color:#000; box-shadow:var(--shadow-soft);}
        .btn-secondary {background:#35363A; color:#fff;}
        .btn-primary:hover {filter:brightness(.95);} .btn-secondary:hover {background:#222;}
        .split-cols {display:grid; gap:32px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); margin-top:40px;}
        .panel {background:#FFF; border:4px solid var(--color-border); border-radius:16px; padding:18px 20px; display:flex; flex-direction:column; gap:14px;}
        .panel h2 {font-size:18px; margin:0 0 4px; display:flex; align-items:center; gap:8px;}
        .item-list {display:flex; flex-direction:column; gap:10px; max-height:240px; overflow:auto;}
        .item {font-size:14px; line-height:1.3;}
        .item a {display:flex; flex-direction:column; gap:4px; padding:8px 10px; border-radius:8px; background:rgba(0,0,0,.03);} 
        .item a:hover {background:rgba(0,0,0,.07);} 
        .empty {text-align:center; padding:20px 10px; font-size:14px; color:#666;}
        .search-box {margin:30px auto 0; max-width:520px; display:flex; gap:8px;}
        .search-box input {flex:1; padding:14px 16px; border:3px solid var(--color-border); border-radius:14px; font-size:15px;}
        .search-box button {padding:14px 22px; background:#35363A; color:#fff; border:0; border-radius:14px; font-size:15px;}
        .search-box button:hover {background:#222;}
        @media (max-width:900px){ .hero h1 {font-size:42px;} }
    </style>
{% endblock %}

{% block content %}
    <section class="hero">
        <h1>메이플스토리 <br>정보탐색 CHAT BOT</h1>
        <p>메이플스토리에 대해 궁금한 것을 정령에게 물어보세요!</p>
        <div class="actions">
            <a class="btn-primary" href="{% url 'chatbot' %}"><i class="fas fa-comments"></i> 챗봇 시작하기</a>
            <a class="btn-secondary" href="{% url 'character_info' %}"><i class="fas fa-user"></i> 캐릭터 검색</a>
        </div>
        <form class="search-box" action="{% url 'character_info' %}" method="GET">
            <input type="text" name="character_name" placeholder="캐릭터 이름을 입력하세요" required>
            <button type="submit"><i class="fas fa-search"></i></button>
        </form>
    </section>

    <div class="split-cols">
        <div class="panel">
            <h2><i class="fas fa-calendar-alt"></i> 이벤트 정보</h2>
            <div class="item-list">
                {% for event in event_info.event_notice %}
                    <div class="item"><a href="{{ event.url }}" target="_blank"><strong>{{ event.title }}</strong><span>{{ event.date_event_start }} ~ {{ event.date_event_end }}</span></a></div>
                {% empty %}
                    <div class="empty">진행 중인 이벤트가 없습니다.</div>
                {% endfor %}
            </div>
        </div>
        <div class="panel">
            <h2><i class="fas fa-bullhorn"></i> 공지사항</h2>
            <div class="item-list">
                {% for notice in notice_info.notice %}
                    <div class="item"><a href="{{ notice.url }}" target="_blank"><strong>{{ notice.title }}</strong><span>{{ notice.date }}</span></a></div>
                {% empty %}
                    <div class="empty">공지사항이 없습니다.</div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script>
        // 향후 메인 페이지 전용 JS (모달 등)
    </script>
{% endblock %}
