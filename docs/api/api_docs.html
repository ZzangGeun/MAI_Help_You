<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAI 챗봇 API 문서</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #2c3e50; text-align: center; }
        h2 { color: #3498db; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12);
        }
        th { 
            background: #3498db; 
            color: white; 
            padding: 15px; 
            text-align: left;
            font-weight: 600;
        }
        td { 
            padding: 12px 15px; 
            border-bottom: 1px solid #ecf0f1; 
        }
        tr:hover { background-color: #f8f9fa; }
        .method { 
            padding: 4px 12px; 
            border-radius: 20px; 
            color: white; 
            font-weight: bold;
            font-size: 12px;
        }
        .get { background: #27ae60; }
        .post { background: #e74c3c; }
        .put { background: #f39c12; }
        .delete { background: #e74c3c; }
        code { 
            background: #ecf0f1; 
            padding: 2px 6px; 
            border-radius: 4px; 
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 13px;
        }
        .response-example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 10px 0;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            border-left: 4px solid #3498db;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🍁 MAI 챗봇 API 문서</h1>
        
        <div class="section">
            <h3>📋 기본 정보</h3>
            <p><strong>Base URL:</strong> <code>http://localhost:8000</code></p>
            <p><strong>Content-Type:</strong> <code>application/json</code></p>
            <p><strong>Character Set:</strong> <code>UTF-8</code></p>
        </div>

        <h2>🔌 API 엔드포인트</h2>
        
        <table>
            <thead>
                <tr>
                    <th>Method</th>
                    <th>Endpoint</th>
                    <th>설명</th>
                    <th>파라미터</th>
                    <th>상태 코드</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td><code>/nexon_api/notice/</code></td>
                    <td>🔔 공지사항 목록 조회</td>
                    <td><code>page</code> (선택)</td>
                    <td>200, 503</td>
                </tr>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td><code>/nexon_api/notice-event/</code></td>
                    <td>🎉 이벤트 목록 조회</td>
                    <td>없음</td>
                    <td>200, 503</td>
                </tr>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td><code>/api/notice/{id}/</code></td>
                    <td>📄 특정 공지사항 상세 조회</td>
                    <td><code>id</code> (필수)</td>
                    <td>200, 404, 503</td>
                </tr>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td><code>/</code></td>
                    <td>🏠 메인 페이지 (HTML)</td>
                    <td>없음</td>
                    <td>200</td>
                </tr>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td><code>/character_info/</code></td>
                    <td>👤 캐릭터 정보 페이지 (HTML)</td>
                    <td>없음</td>
                    <td>200</td>
                </tr>
            </tbody>
        </table>

        <h2>📊 응답 예시</h2>
        
        <h3>✅ 공지사항 목록 (200 OK)</h3>
        <div class="response-example">
<pre>{
  "success": true,
  "data": {
    "notice": [
      {
        "title": "넥슨에서 토스페이가 처음이라면 결제 시 10% 토스포인트 즉시 적립",
        "url": "https://maplestory.nexon.com/News/Notice/Notice/147581",
        "notice_id": 147581,
        "date": "2025-08-29T16:00+09:00"
      }
    ]
  }
}</pre>
        </div>

        <h3>✅ 이벤트 목록 (200 OK)</h3>
        <div class="response-example">
<pre>{
  "success": true,
  "data": {
    "event_notice": [
      {
        "title": "썬데이 메이플",
        "url": "https://maplestory.nexon.com/News/Event/1187",
        "notice_id": 1187,
        "date": "2025-08-29T10:00+09:00",
        "date_event_start": "2025-08-31T00:00+09:00",
        "date_event_end": "2025-08-31T23:59+09:00"
      }
    ]
  }
}</pre>
        </div>

        <h3>❌ 에러 응답 (503 Service Unavailable)</h3>
        <div class="response-example">
<pre>{
  "success": false,
  "error": "넥슨 API 서비스에 연결할 수 없습니다"
}</pre>
        </div>

        <h2>🧪 테스트 방법</h2>
        
        <table>
            <thead>
                <tr>
                    <th>방법</th>
                    <th>명령어/URL</th>
                    <th>설명</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>🌐 브라우저</td>
                    <td><code>http://localhost:8000/nexon_api/notice/</code></td>
                    <td>브라우저에서 직접 확인</td>
                </tr>
                <tr>
                    <td>💻 cURL</td>
                    <td><code>curl -X GET "http://localhost:8000/nexon_api/notice/"</code></td>
                    <td>터미널에서 테스트</td>
                </tr>
                <tr>
                    <td>🔧 자동 테스트</td>
                    <td><code>python tests/api/test_nexon_api.py</code></td>
                    <td>자동화된 전체 테스트</td>
                </tr>
            </tbody>
        </table>

        <div class="section">
            <h3>📈 상태 코드</h3>
            <ul>
                <li><strong>200 OK</strong> - 요청 성공</li>
                <li><strong>404 Not Found</strong> - 요청한 리소스를 찾을 수 없음</li>
                <li><strong>503 Service Unavailable</strong> - 넥슨 API 서비스 이용 불가</li>
            </ul>
        </div>

        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #bdc3c7; text-align: center; color: #7f8c8d;">
            <p>📅 마지막 업데이트: 2025-08-31</p>
            <p>🔗 <a href="../tests/README.md">테스트 가이드</a> | <a href="https://openapi.nexon.com/">넥슨 오픈 API</a></p>
        </footer>
    </div>
</body>
</html>
